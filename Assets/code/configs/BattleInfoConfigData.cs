using UnityEngine;using System.Collections;using System.Collections.Generic;using SimpleJson;
public class BattleInfoConfigData {
public const string NAME = "BattleInfoConfig";
private string _data="[{\"id\":1,\"monster\":[8,5,-200,320,8,10,200,320,8,5,0,230],\"round\":60},{\"id\":2,\"monster\":[9,5,-200,320,9,10,200,320,9,5,0,231],\"round\":60},{\"id\":3,\"monster\":[10,5,-200,320,10,10,200,320,10,5,0,232],\"round\":60},{\"id\":4,\"monster\":[10,10,-200,320,11,20,200,320,10,10,0,233],\"round\":60},{\"id\":5,\"monster\":[11,10,-200,320,12,20,200,320,11,10,0,234],\"round\":60},{\"id\":6,\"monster\":[2,5,-200,320,2,5,200,320,2,5,0,235],\"round\":60},{\"id\":7,\"monster\":[2,5,-200,320,2,5,200,320,2,5,0,236],\"round\":60},{\"id\":8,\"monster\":[2,5,-200,320,2,5,200,320,2,5,0,237],\"round\":60},{\"id\":9,\"monster\":[2,5,-200,320,2,5,200,320,2,5,0,238],\"round\":60},{\"id\":10,\"monster\":[2,5,-200,320,2,5,200,320,2,5,0,239],\"round\":60}]";
private object[] _dataJson;private List<BattleInfoConfig> _dataList=new List<BattleInfoConfig>();
public BattleInfoConfigData(){_dataJson = SimpleJson.SimpleJson.DeserializeObject<JsonArray> (_data).ToArray ();foreach (object jsonObject in _dataJson) {JsonObject jo=(JsonObject) jsonObject;BattleInfoConfig config=new BattleInfoConfig();_dataList.Add(config);foreach(string key in jo.Keys){object value=jo[key];System.Type type =typeof(BattleInfoConfig);System.Reflection.FieldInfo info=type.GetField(key);if(info==null){continue;}if (value is JsonArray) {JsonArray jarr=(JsonArray)value;int jarrSize=jarr.Count;if(info.FieldType.FullName=="System.Int32[]"){int[] data=new int[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (int)jarr[i];}info.SetValue (config, data);}else{string[] data=new string[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (string)jarr[i];}info.SetValue (config, data);}}else{info.SetValue(config,value);}}}_dataJson = null;_data = null;}public List<BattleInfoConfig> getList(){return _dataList;}}