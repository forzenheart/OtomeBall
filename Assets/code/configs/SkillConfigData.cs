using UnityEngine;using System.Collections;using System.Collections.Generic;using SimpleJson;
public class SkillConfigData {
public const string NAME = "SkillConfig";
private string _data="[{\"id\":1,\"targetCount\":1,\"name\":\"Ð¡µº1ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":1},{\"id\":2,\"targetCount\":1,\"name\":\"Ð¡µº2ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":2},{\"id\":3,\"targetCount\":1,\"name\":\"Ð¡µº3ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":2},{\"id\":4,\"targetCount\":1,\"name\":\"Ð¡µº4ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":2},{\"id\":5,\"targetCount\":1,\"name\":\"Ð¡µº5ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":3},{\"id\":6,\"targetCount\":1,\"name\":\"Ð¡µº6ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":4},{\"id\":7,\"targetCount\":1,\"name\":\"Ð¡µº7ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":5},{\"id\":8,\"targetCount\":1,\"name\":\"Ð¡µº8ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":6},{\"id\":9,\"targetCount\":1,\"name\":\"Ð¡µº9ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":7},{\"id\":10,\"targetCount\":1,\"name\":\"Ð¡µº10ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8},{\"id\":11,\"targetCount\":1,\"name\":\"Ð¡µº11ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8},{\"id\":12,\"targetCount\":1,\"name\":\"Ð¡µº12ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8},{\"id\":13,\"targetCount\":1,\"name\":\"Ð¡µº13ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8},{\"id\":14,\"targetCount\":1,\"name\":\"Ð¡µº14ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8},{\"id\":15,\"targetCount\":1,\"name\":\"Ð¡µº15ºÅ\",\"skillType\":1,\"baseValue\":0,\"successChance\":50,\"buffId\":8}]";
private object[] _dataJson;private List<SkillConfig> _dataList=new List<SkillConfig>();
public SkillConfigData(){_dataJson = SimpleJson.SimpleJson.DeserializeObject<JsonArray> (_data).ToArray ();foreach (object jsonObject in _dataJson) {JsonObject jo=(JsonObject) jsonObject;SkillConfig config=new SkillConfig();_dataList.Add(config);foreach(string key in jo.Keys){object value=jo[key];System.Type type =typeof(SkillConfig);System.Reflection.FieldInfo info=type.GetField(key);if(info==null){continue;}if (value is JsonArray) {JsonArray jarr=(JsonArray)value;int jarrSize=jarr.Count;if(info.FieldType.FullName=="System.Int32[]"){int[] data=new int[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (int)jarr[i];}info.SetValue (config, data);}else{string[] data=new string[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (string)jarr[i];}info.SetValue (config, data);}}else{info.SetValue(config,value);}}}_dataJson = null;_data = null;}public List<SkillConfig> getList(){return _dataList;}}