using UnityEngine;using System.Collections;using System.Collections.Generic;using SimpleJson;
public class HeroConfigData {
public const string NAME = "HeroConfig";
private string _data="[{\"atkParam\":20,\"id\":1,\"spdBase\":20,\"hpParam\":20,\"leaderShip\":1,\"atkBase\":20,\"spdParam\":15,\"name\":\"°¬Àö¿¨1¶Î\",\"star\":3,\"hpBase\":20,\"skillInfo\":[1,1]},{\"atkParam\":26,\"id\":2,\"spdBase\":30,\"hpParam\":30,\"leaderShip\":2,\"atkBase\":30,\"spdParam\":20,\"name\":\"°¬Àö¿¨2¶Î\",\"star\":4,\"hpBase\":40,\"skillInfo\":[1,1]},{\"atkParam\":40,\"id\":3,\"spdBase\":40,\"hpParam\":45,\"leaderShip\":3,\"atkBase\":40,\"spdParam\":25,\"name\":\"°¬Àö¿¨3¶Î\",\"star\":5,\"hpBase\":80,\"skillInfo\":[1,1]},{\"atkParam\":20,\"id\":4,\"spdBase\":20,\"hpParam\":20,\"leaderShip\":1,\"atkBase\":20,\"spdParam\":15,\"name\":\"ÄÝÄÈ1¶Î\",\"star\":3,\"hpBase\":20,\"skillInfo\":[1,1]},{\"atkParam\":26,\"id\":5,\"spdBase\":30,\"hpParam\":30,\"leaderShip\":2,\"atkBase\":30,\"spdParam\":20,\"name\":\"ÄÝÄÈ2¶Î\",\"star\":4,\"hpBase\":40,\"skillInfo\":[1,1]},{\"atkParam\":40,\"id\":6,\"spdBase\":40,\"hpParam\":45,\"leaderShip\":3,\"atkBase\":40,\"spdParam\":25,\"name\":\"ÄÝÄÈ3¶Î\",\"star\":5,\"hpBase\":80,\"skillInfo\":[1,1]},{\"atkParam\":80,\"id\":7,\"spdBase\":60,\"hpParam\":100,\"leaderShip\":1,\"atkBase\":60,\"spdParam\":30,\"name\":\"ÎèÒÂ\",\"star\":4,\"hpBase\":200,\"skillInfo\":[1,1]},{\"atkParam\":10,\"id\":8,\"spdBase\":10,\"hpParam\":10,\"leaderShip\":1,\"atkBase\":10,\"spdParam\":10,\"name\":\"²¨Àû\",\"star\":1,\"hpBase\":10,\"skillInfo\":[1,1]},{\"atkParam\":11,\"id\":9,\"spdBase\":15,\"hpParam\":11,\"leaderShip\":1,\"atkBase\":15,\"spdParam\":11,\"name\":\"Ð¡ÀÇ\",\"star\":1,\"hpBase\":15,\"skillInfo\":[1,1]},{\"atkParam\":8,\"id\":10,\"spdBase\":8,\"hpParam\":15,\"leaderShip\":1,\"atkBase\":10,\"spdParam\":6,\"name\":\"²ÝÖí\",\"star\":1,\"hpBase\":20,\"skillInfo\":[1,1]},{\"atkParam\":20,\"id\":11,\"spdBase\":20,\"hpParam\":10,\"leaderShip\":2,\"atkBase\":20,\"spdParam\":20,\"name\":\"BOSS1\",\"star\":2,\"hpBase\":100,\"skillInfo\":[1,1]},{\"atkParam\":30,\"id\":12,\"spdBase\":30,\"hpParam\":30,\"leaderShip\":2,\"atkBase\":30,\"spdParam\":30,\"name\":\"BOSS2\",\"star\":2,\"hpBase\":200,\"skillInfo\":[1,1]},{\"atkParam\":20,\"id\":13,\"spdBase\":40,\"hpParam\":60,\"leaderShip\":2,\"atkBase\":50,\"spdParam\":30,\"name\":\"BOSS3\",\"star\":2,\"hpBase\":400,\"skillInfo\":[1,1]}]";
private object[] _dataJson;private List<HeroConfig> _dataList=new List<HeroConfig>();
public HeroConfigData(){_dataJson = SimpleJson.SimpleJson.DeserializeObject<JsonArray> (_data).ToArray ();foreach (object jsonObject in _dataJson) {JsonObject jo=(JsonObject) jsonObject;HeroConfig config=new HeroConfig();_dataList.Add(config);foreach(string key in jo.Keys){object value=jo[key];System.Type type =typeof(HeroConfig);System.Reflection.FieldInfo info=type.GetField(key);if(info==null){continue;}if (value is JsonArray) {JsonArray jarr=(JsonArray)value;int jarrSize=jarr.Count;if(info.FieldType.FullName=="System.Int32[]"){int[] data=new int[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (int)jarr[i];}info.SetValue (config, data);}else{string[] data=new string[jarrSize];for(int i=0;i<jarrSize;i++){data[i]= (string)jarr[i];}info.SetValue (config, data);}}else{info.SetValue(config,value);}}}_dataJson = null;_data = null;}public List<HeroConfig> getList(){return _dataList;}}